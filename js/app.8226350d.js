(function(t){function e(e){for(var a,i,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,r=1;r<s.length;r++){var c=s[r];0!==o[c]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},o={app:0},n=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"03f3":function(t,e,s){},1:function(t,e){},"16c3":function(t,e,s){"use strict";var a=s("03f3"),o=s.n(a);o.a},2:function(t,e){},3:function(t,e){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),o=s("2222"),n=s.n(o),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],c=s("2877"),l={},u=Object(c["a"])(l,i,r,!1,null,null,null),d=u.exports,h=(s("b0c0"),s("a4d3"),s("e01a"),s("2f62")),p=s("d4ec"),f=s("bee2"),m=(s("a434"),s("ac1f"),function(){function t(e){Object(p["a"])(this,t),this.limit=e,this.history=[],this.current=0}return Object(f["a"])(t,[{key:"add",value:function(t){this.history.splice(this.current,this.history.length),this.history.length>=this.limit&&this.history.shift(),this.history.push(t),this.current=this.history.length,localStorage.vdarw=n.a.project.exportJSON()}},{key:"undo",value:function(){this.canUndo()&&this.history[--this.current].unexec()}},{key:"redo",value:function(){this.canRedo()&&this.history[this.current++].exec()}},{key:"canUndo",value:function(){return this.current>0}},{key:"canRedo",value:function(){return this.history.length>this.current}},{key:"clear",value:function(){this.history=[],this.current=0,localStorage.vdarw="[]"}}]),t}()),v=new m(20),g=s("2909"),b=s("4c17"),w=s.n(b),y=function(){function t(e){var s=e.path;Object(p["a"])(this,t),this._args={path:s},s.name=w()()}return Object(f["a"])(t,[{key:"exec",value:function(){var t;this.removed&&(t=this._args.path).add.apply(t,Object(g["a"])(this.removed))}},{key:"unexec",value:function(){this.removed=this._args.path.removeSegments()}}]),t}(),C={path:null,show:null},k={lastSize:0,lastColor:"#00000FF"},x=function(t){C.show&&C.show.layer===n.a.project.activeLayer&&k.lastSize===Y.state.pencilArgs.size&&k.lastColor===Y.state.pencilArgs.color||(C.show&&C.show.remove(),C.show=null,C.show=new n.a.Path.Circle({center:[0,0],radius:Y.state.pencilArgs.size/2,fillColor:Y.state.pencilArgs.color}),k.lastSize=Y.state.pencilArgs.size,k.lastColor=Y.state.pencilArgs.color),C.show.position=t.point},$=function(t){C.path=new n.a.Path,C.path.strokeColor=Y.state.pencilArgs.color,C.path.strokeWidth=Y.state.pencilArgs.size,C.path.strokeCap="round",C.path.strokeJoin="round",C.path.add(t.point)},S=function(t){C.path&&C.path.add(t.point)},j=function(t){C.path.add(t.point),Y.state.pencilArgs.shake&&C.path.simplify(),v.add(new y({path:C.path})),C.path=null,C.show&&C.show.remove(),C.show=null},O=function(){},_=function(){C.show&&C.show.remove(),C.show=null},z=new n.a.Tool;z.onMouseDown=$,z.onMouseDrag=S,z.onMouseUp=j,z.onMouseMove=x,z.onToggleIn=O,z.onToggleOut=_;var T={path:null,show:null},A={lastSize:0},L=function(t){T.show&&T.show.layer===n.a.project.activeLayer&&A.layer===Y.state.eraserArgs.size||(T.show&&T.show.remove(),T.show=null,T.show=new n.a.Path.Circle({center:[0,0],radius:Y.state.eraserArgs.size/2,strokeColor:"black",fillColor:"white"}),A.lastSize=Y.state.eraserArgs.size),T.show.position=t.point},D=function(t){T.path=new n.a.Path,T.path.strokeColor="white",T.path.strokeWidth=Y.state.eraserArgs.size,T.path.blendMode="destination-out",T.path.strokeCap="round",T.path.strokeJoin="round",T.path.add(t.point)},E=function(t){T.show&&(T.show.position=t.point,T.show.bringToFront()),T.path&&T.path.add(t.point)},M=function(t){T.path.add(t.point),v.add(new y({path:T.path})),T.path=null},B=function(){},P=function(){T.show&&T.show.remove(),T.show=null},N=new n.a.Tool;N.onMouseDown=D,N.onMouseDrag=E,N.onMouseUp=M,N.onMouseMove=L,N.onToggleIn=B,N.onToggleOut=P;var I={prevSelection:null};function V(){if(I.prevSelection){var t=I.prevSelection.path||I.prevSelection;t.bounds.selected=!1,t.selected=!1,I.prevSelection.selected=!1,I.prevSelection=null}}var H=function(t){V();var e=n.a.project.hitTest(t.point,{tolerance:4,fill:!0,stroke:!0,segments:!0}),s=e&&e.item;if(s){var a="segment"===e.type;s.bounds.selected=!a,a&&(s=e.segment),s.selected=!0}I.prevSelection=s},F=function(){V()},W=new n.a.Tool;W.onMouseDown=H,W.onToggleOut=F;var R={path:null,carryLength:0},U=function(){R.path=new n.a.Path,R.path.fillColor=Y.state.brushArgs.color},J=function(t){if(R.path&&t.delta.length>1){var e=t.delta;e.angle=e.angle+90;var s=e.normalize().multiply(Y.state.brushArgs.size).multiply(1/e.length),a=t.middlePoint.add(s),o=t.middlePoint.subtract(s);R.carryLength=R.carryLength+e.length,R.carryLength>s.length&&(R.path.add(a),R.path.insert(0,o),R.path.smooth(),R.carryLength=0)}},q=function(){Y.state.brushArgs.shake&&R.path.simplify(),v.add(new y({path:R.path})),R.path=null},X=function(){},G=function(){},K=new n.a.Tool;K.onMouseDown=U,K.onMouseDrag=J,K.onMouseUp=q,K.onToggleIn=X,K.onToggleOut=G;var Q={pencil:z,eraser:N,select:W,brush:K};a["default"].use(h["a"]);var Y=new h["a"].Store({state:{image:"",capture:"",drawing:"",plant:{name:"",data:{}},toolName:null,canvasArgs:{bgColor:"#fff"},pencilArgs:{color:"#000000",size:10,shake:!0},eraserArgs:{size:20},brushArgs:{color:"#000000",size:20,shake:!0},drawSession:{step:0,description:""}},mutations:{reset:function(t){t.image="",t.capture="",t.drawing="",t.plant.name="",t.plant.data={},t.drawSession.step=0,t.drawSession.description=""},setImage:function(t,e){t.image=e},setCapture:function(t,e){t.capture=e},setDrawing:function(t,e){t.drawing=e},setPlant:function(t,e){t.plant.name=e},setPlantData:function(t,e){t.plant.data=e},setStep:function(t){t.drawSession.step<1&&t.drawSession.step++},setDescription:function(t,e){t.drawSession.description=e},setTool:function(t,e){t.toolName&&Q[t.toolName].onToggleOut&&Q[t.toolName].onToggleOut(),t.toolName=e,Q[e]&&(Q[e].activate(),Q[e].onToggleIn&&Q[e].onToggleIn())},setArgs:function(t,e){var s=e.toolName,a=e.color,o=e.size,n=e.shake,i=t[s+"Args"];i.color=a||i.color,i.size=o||i.size,void 0!==n&&(i.shake=n)},setCanvasArgs:function(t,e){Object.assign(t.canvasArgs,e)}},actions:{},modules:{}}),Z=s("e37d"),tt=(s("b972"),s("8c4f")),et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"container"}},[s("div",{staticClass:"z-50 absolute bottom-12 left-1/2 transform -translate-x-1/2"},[s("a",{ref:"classification",staticClass:"text",attrs:{id:"classification"}})]),s("div",{ref:"toCanvas",staticClass:"z-50 absolute bottom-6 right-12 hidden"},[s("router-link",{staticClass:"mx-6",attrs:{to:"/canvas"}},[s("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/next.svg"}})])],1),t._m(0),s("div",{ref:"capture"},[s("VCapture",{staticClass:"z-50 absolute top-1/2 right-5 transform -translate-y-1/2",on:{click:function(e){return t.onCapture()}}})],1),t._m(1),s("div",{ref:"clear",staticClass:"z-50 absolute w-80 h-80 left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 hidden",on:{click:function(e){return t.clear()}}}),s("div",{ref:"canvasWrapper",staticClass:"z-0 overflow-hidden hidden absolute bottom-0"},[s("canvas",{ref:"canvas",attrs:{id:"canvas"}})]),s("div",{staticClass:"z-0 overflow-hidden absolute bottom-0"},[s("video",{ref:"video",attrs:{width:t.windowWidth,height:t.windowHeight,id:"video",playsinline:"",autoplay:""}})])])},st=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"z-50 absolute top-12 left-1/2 transform -translate-x-1/2"},[s("p",{staticClass:"text"},[t._v("按下快门，和我一起写生吧！")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"z-40 layer"},[s("div",{staticClass:"circle"})])}],at=s("5530"),ot=(s("d3b7"),s("159b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{on:{click:t.handleClick}},[t._m(0)])}),nt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("i",[s("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/shot.svg"}})])}],it={methods:{handleClick:function(t){this.$emit("click",t)}}},rt=it,ct=Object(c["a"])(rt,ot,nt,!1,null,"50c92132",null),lt=ct.exports,ut=[{name:"杜鹃花",type:"被子植物门·双子叶植物纲·杜鹃花目·杜鹃花科·杜鹃属",draw:["我是杜鹃花，一般在春季开花，每簇花2到6朵，花冠像个漏斗。叶子革质，常集生枝端，通常是卵形、椭圆状卵形。","我有红、淡红、杏红、雪青、白色等不同颜色的品种，花色繁茂艳丽。我的花冠上往往会有一些斑点","我主要生活在亚洲，常出现在山地疏灌丛或松林下，周围会有很多绿叶，也会有一些小昆虫会出现在我的身边。"],data:["杜鹃是双子叶植物纲、杜鹃花科、杜鹃属的常绿灌木、落叶灌木。又名映山红、山石榴。相传，古有杜鹃鸟，日夜哀鸣而咯血，染红遍山的花朵，因而得名。杜鹃花一般春季开花，每簇花2-6朵，花冠漏斗形，有红、淡红、杏红、雪青、白色等，花色繁茂艳丽。生于海拔500-1200（-2500）米的山地疏灌丛或松林下，为中国中南及西南典型的酸性土指示植物。","该物种全株供药用,有行气活血、补虚，治疗内伤咳嗽，肾虚耳聋，风湿等疾病。又因花冠鲜红色，为著名的花卉植物，具有较高的观赏价值，在世界各公园中均有栽培。中国江西、安徽、贵州以杜鹃花为省花，定为市花的城市多达七八个。1985年5月杜鹃花被评为中国十大名花之六。","原产于东亚，生长在海拔500-2700米的高度。野生物种分布于中国、日本、老挝、缅甸和泰国。"]},{name:"花烛",type:"被子植物门·单子叶植物纲·佛焰花目·天南星科·花烛属",draw:["我是花烛，是常绿草本植物，常年开花不断。叶子从基部生出，呈圆状心形或卵心形，叶柄细长。我的花朵同样也呈卵心形，中间还会有一株花穗。","我的花朵一般是橙红色或猩红色，肉穗花序是黄色。我的叶子一般是绿色，表面光滑，会有一些条状纹路。","我主要生活在热带雨林区。常附生在树上，有时附生在岩石上或直接生长在地上，喜欢温暖、潮湿、半阴的环境，不喜欢阳光直射。"],data:["花烛是单子叶植物纲天南星科花烛属多年生常绿草本植物。茎节短；叶自基部生出，绿色，革质，全缘，长圆状心形或卵心形。叶柄细长，佛焰苞平出，革质并有蜡质光泽，橙红色或猩红色；肉穗花序黄色，可常年开花不断。","花烛原产于哥斯达黎加、哥伦比亚等热带雨林区。常附生在树上，有时附生在岩石上或直接生长在地上，性喜温暖、潮湿、半阴的环境，忌阳光直射。","花烛花姿奇特美妍。花期持久，适合盆栽、切花或庭园荫蔽处丛植美化。"]},{name:"马蹄莲",type:"被子植物门·单子叶植物纲·天南星目·天南星科·马蹄莲属",draw:["我是马蹄莲，我的花朵呈喇叭状或马蹄状，花朵中间有圆柱形的肉穗。我的叶片较厚，呈箭形，先端具尾状尖头，基部呈心形或戟形。","我的花苞有黄色、粉色和红色，靠近中间的地方颜色较深，靠近边缘的地方颜色较浅。我的叶片呈翠绿色，表面上点缀有一些白斑。","我喜欢温暖、湿润和阳光充足的环境。更喜欢肥沃、保水性能好的黏质土壤。我主要分布在中国北京、江苏、福建、台湾、四川、云南及秦岭地区。"],data:["马蹄莲是单子叶植物纲、天南星科、马蹄莲属多年生粗壮草本。具块茎，并容易分蘖形成丛生植物。叶基生，叶下部具鞘；叶片较厚，绿色，心状箭形或箭形，先端锐尖、渐尖或具尾状尖头，基部心形或戟形。喜疏松肥沃、腐殖质丰富的粘壤土。","马蹄莲花有毒，内含大量草本钙结晶和生物碱，误食会引起昏眠等中毒症状。该物种为中国植物图谱数据库收录的无毒植物，其毒性为块茎、佛焰苞和肉穗花序有毒。咀嚼一小块块茎可引起舌喉肿痛。马蹄莲可药用，具有清热解毒的功效。治烫伤，鲜马蹄莲块茎适量，捣烂外敷。预防破伤风，在创伤处，用马蹄莲块茎捣烂外敷。马蹄莲有毒， 禁忌内服。","马蹄莲在欧美国家是新娘捧花的常用花。也是埃塞俄比亚的国花。"]},{name:"蝴蝶兰",type:"被子植物门·单子叶植物纲·微子目·兰科·蝴蝶兰属",draw:["我是蝴蝶兰，我的花朵往往由五个花瓣组成，上边两个花瓣很像蝴蝶的翅膀，所以我被称为蝴蝶兰。我的叶片呈椭圆形，长圆形或镰刀状。叶子旁边有好多椭球形的小花苞。","我常见的颜色有粉红、紫红、橘红、红、白、紫蓝等，还有斑纹、线条变化。我的花瓣也可能有不同的颜色，或者呈现渐变色，并有一些条纹。","我往往分布于中国、泰国、菲律宾、马来西亚、印度尼西亚等国家。生长在低海拔的热带和亚热带的丛林树干上。"],data:["蝴蝶兰为兰科、蝴蝶兰属植物，叶3-4枚或更多，椭圆形或镰状长圆形，长10-20厘米，宽3-6厘米；花葶长达50厘米，花序梗径4-5毫米，花序轴稍回折状；中萼片近椭圆形，长约3厘米，基部稍窄，侧萼片斜卵形，基部贴生蕊柱足；花瓣菱状圆形，具红色斑点或细纹，中裂片菱形，基部具黄色肉突：蕊柱长约1厘米，蕊柱足宽；每个花粉团裂为不等大2爿。","分布于中国、泰国、菲律宾、马来西亚、印度尼西亚。生于低海拔的热带和亚热带的丛林树干上。","蝴蝶兰的花朵艳丽娇俏，赏花期长，花朵数多，能吸收室内有害气体，既能净化空气又可作盆栽观赏。还可用作切花、贵宾胸花、新娘捧花、花篮插花的高档素材；在节日可用于馈赠。"]},{name:"水塔花",type:"被子植物门·单子叶植物纲·粉状胚乳目·凤梨科·水塔花属",draw:["我是水塔花，叶阔披针形，急尖，边缘有细锯齿，硬革质，鲜绿色，表面有厚角质层和吸收鳞片。穗状花序直立，高出叶丛。叶片从根茎处旋叠状丛生，基部呈莲座状，中心呈筒状。","我的苞片呈粉红色，花冠朱红色，花瓣外卷，边缘带紫色，表面有条纹。我的叶子又大又绿，包裹在花瓣周围。","我喜欢温暖、湿润、半阴的环境，不耐寒，原产巴西。我主要生活在灌木丛中的疏荫下或山坡的西北面，也是良好的室内室栽观叶植物。"],data:['水塔花是凤梨科多年生常绿草本多浆植物，茎甚短。叶阔披针形，急尖，边缘有细锯齿，硬革质，鲜绿色，表面有厚角质层和吸收鳞片。穗状花序直立，高出叶丛，苞片粉红色，花冠朱红色，花瓣外卷，边缘带紫色。叶片从根茎处旋叠状丛生，基部呈莲座状，中心呈筒状。多于冬春季开花。叶片革质；青翠而光泽，丛生成莲座状，端庄秀丽；叶基部相互抱合，使植株中心成筒状，内可盛水而不漏，状似水塔，故得名"水塔花"。',"水塔花喜温暖、湿润、半阴环境。不耐寒。稍耐旱，原产巴西。是良好的室内室栽观叶植物。原产美洲热带，附生在热带森林的树上或腐殖质中。中国温室多有栽培，尤其是南方地区。"]},{name:"向日葵",type:"被子植物门·双子叶植物纲·桔梗目·菊科·向日葵属",draw:["我是向日葵，花序会随太阳转动，茎直立，圆形多棱角，质硬白色粗硬毛。广卵形叶片通常互生，先端锐突或渐尖，边缘具粗锯齿，两面粗糙，被毛，有长柄。","我的花序边缘有中性的黄色舌状花，花序中部是两性管状花，通常是棕色或紫色，能结果。我的矩卵形下位瘦果，果皮呈现木质化，灰色或黑色，大家都称它们为葵花籽。","我喜欢草原或者其他干燥、开阔的地区，会沿着路边、田野、沙漠边缘和草地生长。我能够耐受高温和低温，对土壤要求较低，无论是肥沃的土壤还是旱地、瘠薄、盐碱地上面，都可以看见我的身影。"],data:["向日葵是桔梗目、菊科、向日葵属的植物。因花序随太阳转动而得名。一年生草本，高1-3.5米，最高可达9米。茎直立，圆形多棱角，质硬被白色粗硬毛。广卵形的叶片通常互生，先端锐突或渐尖，有基出3脉，边缘具粗锯齿，两面粗糙，被毛，有长柄。头状花序，直径10-30厘米，单生于茎顶或枝端。总苞片多层，叶质，覆瓦状排列，被长硬毛，夏季开花，花序边缘生中性的黄色舌状花，不结实。花序中部为两性管状花，棕色或紫色，能结实。矩卵形瘦果，果皮木质化，灰色或黑色，称葵花籽。","野生向日葵栖息地主要是草原以及干燥、开阔的地区。它们沿着路边、田野、沙漠边缘和草地生长。在阳光充足，潮湿或受干扰的地区生长最好。原产南美洲，驯化种由西班牙人于1510年从北美带到欧洲，最初为观赏用。19世纪末，又被从俄国引回北美洲。世界各国和中国均有栽培，通过人工培育，在不同生境上形成许多品种，特别在头状花序的大小色泽及瘦果形态上有许多变异，并为综合利用的最好原料。","主要分两大类，食用和观赏。向日葵种子叫葵花籽，含油量很高，为半干性油，味香可口，供食用。花穗、种子皮壳及茎秆可作饲料及工业原料，如制人造丝及纸浆等，花穗也供药用。"]},{name:"报春花",type:"被子植物门·双子叶植物纲·报春花目·报春花科·报春花属",draw:["我是报春花，是暖温带植物。叶片是长卵形，基部是心形或截形，边缘有不整齐具细锯齿状的缺裂，叶柄长2-15厘米，鲜时带肉质，具狭翅，被多细胞柔毛。","我在秋季开花，花朵一般呈碟状，花冠是淡紫色或者红色，有伞状花序2-4轮，形状是球形蒴果。","我主要分布在中国的云南，贵阳和广西西部，喜欢生长于潮湿旷地、沟边和林缘，喜欢温凉、湿润的环境和排水良好、富含腐殖质的土壤。"],data:["报春花报春花科报春花属二年生草本植物，通常被粉，叶簇生，叶片卵形至椭圆形或矩圆形，裂片具不整齐的小牙齿，叶柄被多细胞柔毛。花葶高可达40厘米，伞形花序，苞片线形或线状披针形，花梗纤细，花萼钟状，花冠粉红色，淡蓝紫色或近白色，蒴果球形，2-5月开花，3-6月结果。","分布中国的云南、贵州和广西，缅甸北部亦有分布。多生长于荒野、田边，潮湿旷地、沟边和林缘，该种广泛栽培于世界各地，并有许多园艺品种，报春花早春开花， 花色丰富，花期长，具有很高的观赏价值。"]},{name:"月季花",type:"被子植物门·双子叶植物纲·蔷薇目·蔷薇科·蔷薇属",draw:["我是月季花，我的小枝有粗壮而略带钩状的皮刺或无刺，叶柄和叶轴散生皮刺和短腺毛；托叶大部附生于叶柄之上，边缘有腺毛。","我的花朵常常数朵聚生，花梗较长，常见的花色为红色或者玫瑰色，直径约5厘米，会散发出淡淡的香味，大家都很喜欢我。","我主要分布在于温带与热带地区，喜欢肥沃，富含有机质，排水良好的土壤，喜欢待在日照充足，空气流通的环境中。"],data:["月季花被称为花中皇后，又称“月月红”，是常绿、半常绿低矮灌木，四季开花﹐一般为红色﹐或粉色、偶有白色和黄色﹐可作为观赏植物，也可作为药用植物，亦称月季。有三个自然变种，现代月季花型多样，有单瓣和重瓣，还有高心卷边等优美花型；其色彩艳丽、丰富，不仅有红、粉、黄、白等单色，还有混色、银边等品种；多数品种有芳香。月季的品种繁多，世界上已有近万种，中国也有千种以上。","自然花期4月-9月，花成大型，由内向外，呈发散型，有浓郁香气，可广泛用于园艺栽培和切花。月季的适应性强，耐寒、抗旱，不论地栽、盆栽均可，适用于美化庭院、装点园林、布置花坛、配植花篱、花架，月季栽培容易，可作切花，用于做花束和各种花篮，月季花朵可提取香精，并可入药。也有较好的抗真菌及协同抗耐药真菌活性。红色切花更成为情人间必送的礼物之一，并成为爱情诗歌的主题。","中国是月季的原产地之一。月季花荣秀美，姿色多样，四时常开，深受人们的喜爱，中国有52个城市将它选为市花，1985年5月月季被评为中国十大名花第五名。"]},{name:"瓜叶菊",type:"被子植物门·双子叶植物纲·桔梗目·菊科·瓜叶菊属",draw:["我是瓜叶菊，全株被微毛，叶片大形如瓜叶，绿色光亮。花顶生，头状花序多数聚合成伞房花序，花序密集覆盖于枝顶，常呈锅底形。","我的花色比较丰富，除黄色外其他颜色均有，紫色，白色比较常见，还有红白相间的复色。我的花朵像舌片一样开展，形状呈现长椭圆形。","我主要生活在温暖，温润以及通风良好的环境中，不耐受高温，害怕霜冻，一般人们都将我放在低温温室中栽培。"],data:["瓜叶菊是菊科瓜叶菊属植物，别称富贵菊、黄瓜花。多年生草本，常作1－2年生栽培。分为高生种和矮生种，20－90厘米不等。全株被微毛，叶片大形如瓜叶，绿色光亮。花顶生，头状花序多数聚合成伞房花序，花序密集覆盖于枝顶，常呈锅底形，花色丰富，除黄色其他颜色均有，还有红白相间的复色，花期1－4月。瓜叶菊的花语是：喜悦，快活，快乐，合家欢喜，繁荣昌盛。适宜在春节期间送给亲友，此花色彩鲜艳，体现美好的心意。"]}],dt={components:{VCapture:lt},data:function(){return{video:"",imgData:"",canvas:"",context:"",scale:1,sketch:new Image,windowWidth:1194,windowHeight:897}},computed:Object(at["a"])({},Object(h["b"])(["capture","plant"])),methods:{errorHandler:function(t){console.log("navigator.getUserMedia error: ",t)},gotStream:function(t){return window.stream=t,this.video.srcObject=t,navigator.mediaDevices.enumerateDevices()},start:function(){window.stream&&window.stream.getTracks().forEach((function(t){t.stop()}));var t={video:{facingMode:"environment"}};navigator.mediaDevices.getUserMedia(t).then(this.gotStream).catch(this.errorHandler)},onCapture:function(){document.getElementById("classification").innerHTML="",this.$refs.capture.classList.toggle("hidden"),this.$refs.canvasWrapper.classList.toggle("hidden"),this.$refs.clear.classList.toggle("hidden"),this.video.classList.toggle("hidden"),this.context.drawImage(this.video,0,0,this.canvas.width/this.scale,this.canvas.height/this.scale),this.imgData=this.canvas.toDataURL("image/jpeg"),this.$store.commit("setCapture",this.imgData),this.onConfirm()},onConfirm:function(){var t=new XMLHttpRequest;t.open("POST","https://ztodesign.cn:5000/photo2sketch",!0),t.setRequestHeader("cache-control","no-cache");var e=new FormData;e.append("image",this.imgData);var s=this;t.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE&&200===this.status){var e=JSON.parse(t.responseText);if(s.$refs.toCanvas.classList.toggle("hidden"),document.getElementById("classification").innerHTML=e.data.class,e)if("非植物"===e.data.class){s.$store.commit("setImage",e.data.resImage),s.$store.commit("setPlant","杜鹃花");for(var a=0;a<ut.length;a++)s.plant.name===ut[a].name&&s.$store.commit("setPlantData",ut[a])}else{s.$store.commit("setImage",e.data.resImage),s.$store.commit("setPlant",e.data.class);for(var o=0;o<ut.length;o++)s.plant.name===ut[o].name&&s.$store.commit("setPlantData",ut[o])}}},t.send(e)},clear:function(){this.$refs.capture.classList.toggle("hidden"),this.$refs.canvasWrapper.classList.toggle("hidden"),this.$refs.toCanvas.classList.toggle("hidden"),this.video.classList.toggle("hidden"),this.$refs.clear.classList.toggle("hidden")}},mounted:function(){document.body.addEventListener("touchmove",(function(t){t.preventDefault()}),{passive:!1}),this.windowWidth=document.documentElement.clientWidth,this.windowHeight=this.windowWidth/4*3,this.video=this.$refs.video,this.canvas=this.$refs.canvas,this.context=this.canvas.getContext("2d"),this.scale=window.devicePixelRatio,this.canvas.width=Math.floor(this.windowWidth),this.canvas.height=Math.floor(this.windowHeight),this.context.scale(this.scale,this.scale);var t=this;this.sketch.onload=function(){t.context.drawImage(this,0,0,t.canvas.width/t.scale,t.canvas.height/t.scale)},navigator.mediaDevices.enumerateDevices().catch(this.errorHandler),this.start()}},ht=dt,pt=(s("667b"),Object(c["a"])(ht,et,st,!1,null,"126c9f99",null)),ft=pt.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"canvas default w-full h-full flex flex-col justify-between items-center overflow-hidden"},[s("div",{staticClass:"absolute flex flex-row justify-between items-center bg-white rounded-b-2xl"},[s("VHeader")],1),s("canvas",{ref:"canvas",staticClass:"w-full h-screen",style:t.cursor+t.canvasBg,attrs:{id:"canvas",resize:""}}),s("VDialogue",{ref:"sidebar",staticClass:"absolute top-1/2 left-0 transform -translate-y-2/3 transition duration-500 ease-in-out",on:{click:t.toggleSideBar}}),s("VNext",{staticClass:"absolute bottom-12 right-12",on:{click:t.exportSvg}})],1)},vt=[],gt=(s("b680"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex items-center justify-center flex-wrap w-96 h-20"},[s("VTools",{staticClass:"transform -translate-y-3"})],1)}),bt=[],wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex items-center"},[s("div",{staticClass:"pr-10",staticStyle:{height:"60px"}},[s("div",{staticClass:"color w-14 h-14 rounded-full transition duration-300 ease-in-out",style:{backgroundColor:t.pencilArgs.color}})]),s("VPicker",{staticClass:"transform pr-10"}),s("v-popover",{attrs:{disabled:!0,offset:"16"}},[s("VIconBtn",{ref:"pencil",staticClass:"transform -translate-y-5 transition duration-300 ease-in-out pr-10",attrs:{title:"画笔(P)",active:"pencil"===t.toolName,name:"pencil"},on:{click:function(e){return t.setTool("pencil")}}}),s("template",{slot:"popover"},[s("div",{staticClass:"v-size-picker"},[s("VueSlider",{attrs:{min:1},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}})],1)])],2),s("v-popover",{attrs:{disabled:!0,offset:"16"}},[s("VIconBtn",{ref:"eraser",staticClass:"transform transition duration-300 ease-in-out",attrs:{title:"擦除(E)",active:"eraser"===t.toolName,name:"eraser"},on:{click:function(e){return t.setTool("eraser")}}}),s("template",{slot:"popover"},[s("div",{staticClass:"v-size-picker"},[s("VueSlider",{attrs:{min:1},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}})],1)])],2)],1)},yt=[],Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{on:{click:t.handleClick}},[s("i",[s("img",{attrs:{src:t.src,alt:t.name}})])])},kt=[],xt={props:{active:Boolean,disabled:Boolean,name:String},computed:{src:function(){return"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/"+this.name+".svg"}},methods:{handleClick:function(t){this.disabled||this.$emit("click",t)}}},$t=xt,St=Object(c["a"])($t,Ct,kt,!1,null,"6cc9eac0",null),jt=St.exports,Ot=s("4971"),_t=s.n(Ot),zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-row items-center"},[s("v-popover",{attrs:{disabled:t.disabledColor,offset:"16"}},[s("VIconBtn",{attrs:{disabled:t.disabledColor,title:"颜色",color:t.color,name:"color"}}),s("template",{slot:"popover"},[s("div",{staticClass:"bg-white pl-3 pt-5"},[s("VSwatches",{attrs:{swatches:t.swatches,"row-length":"5",inline:""},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1)])],2)],1)},Tt=[],At=s("c345"),Lt=s("7f75"),Dt=s.n(Lt),Et=(s("b3a4"),{components:{VIconBtn:jt,CompactPicker:At["Compact"],SwatchesPicker:At["Swatches"],VSwatches:Dt.a},data:function(){return{color:"#000000",swatches:[["#FF6900","#FCB900","#7BDCB5","#388E3C","#1B5E20"],["#8ED1FC","#0693E3","#EB144C","#F78DA7","#9900EF"],["#5D4037","#A1887F","#ABB8C3","#000000"]]}},computed:Object(at["a"])(Object(at["a"])({},Object(h["b"])(["toolName"])),{},{toolArgs:function(){return this.$store.state[this.toolName+"Args"]||{}},disabledColor:function(){return null===this.toolName||"eraser"===this.toolName}}),watch:{toolName:function(){this.toolArgs.color&&(this.color=this.toolArgs.color)},color:function(){this.toolArgs.color&&this.$store.commit("setArgs",{toolName:this.toolName,color:this.color})}}}),Mt=Et,Bt=Object(c["a"])(Mt,zt,Tt,!1,null,"b7f6664a",null),Pt=Bt.exports,Nt=(s("8445"),{components:{VIconBtn:jt,VueSlider:_t.a,VPicker:Pt},data:function(){return{size:1}},computed:Object(at["a"])(Object(at["a"])({},Object(h["b"])(["pencilArgs"])),{},{toolName:function(){return this.$store.state.toolName},toolArgs:function(){return this.$store.state[this.toolName+"Args"]||{}},disabledSize:function(){return null===this.toolName}}),watch:{toolName:function(){this.toolArgs.size&&(this.size=this.toolArgs.size)},size:function(){this.toolArgs.size&&this.$store.commit("setArgs",{toolName:this.toolName,size:this.size})}},methods:{setTool:function(t){"pencil"===t?(this.$refs["pencil"].$el.classList.remove("-translate-y-5"),this.$refs["pencil"].$el.classList.add("translate-y-2"),this.$refs["eraser"].$el.classList.remove("scale-110")):"brush"===t?(this.$refs["pencil"].$el.classList.remove("translate-y-2"),this.$refs["pencil"].$el.classList.add("-translate-y-5"),this.$refs["eraser"].$el.classList.remove("scale-110")):"eraser"===t&&(this.$refs["pencil"].$el.classList.remove("translate-y-2"),this.$refs["pencil"].$el.classList.add("-translate-y-5"),this.$refs["eraser"].$el.classList.add("scale-110")),this.$store.commit("setTool",t)}},mounted:function(){this.$refs["pencil"].$el.classList.remove("-translate-y-5"),this.$refs["pencil"].$el.classList.add("translate-y-2")}}),It=Nt,Vt=(s("e9ff"),Object(c["a"])(It,wt,yt,!1,null,"4863c350",null)),Ht=Vt.exports,Ft=function(t){t||(t=w()());var e=new n.a.Layer({name:t});return n.a.project.addLayer(e),e},Wt=function(){return n.a.project.clear(),v.clear(),n.a.project},Rt=s("9b6a"),Ut={components:{VTools:Ht,VIconBtn:jt,VPicker:Pt},data:function(){return{history:v}},mounted:function(){Object(Rt["a"])("ctrl+s",this.exportSvg),Object(Rt["a"])("f1",this.help)},methods:{clear:function(){Wt(),Ft()},undo:function(){v.undo()},redo:function(){v.redo()}}},Jt=Ut,qt=Object(c["a"])(Jt,gt,bt,!1,null,"7f247ccd",null),Xt=qt.exports,Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"dialogue",staticClass:"dialogue-wrapper flex flex-row bg-white rounded-r-2xl"},[s("img",{staticClass:"pl-6 h-96",attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/line.svg"}}),s("div",{on:{click:t.handleClick}},[t._m(0)])])},Kt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pt-6"},[s("p",{staticClass:"dialogue"},[s("span",[t._v("你好呀，小朋友! 快开始写生吧！全部画完后再点击下一步查看植物完整信息哦。")])])])}];s("a15b"),s("3ca3"),s("ddb0"),s("2b3d"),s("9861");function Qt(t,e){var s="https://tsn.baidu.com/text2audio",a=e||{},o=t||{},n=document.createElement("audio");a.autoplay&&n.setAttribute("autoplay","autoplay"),a.hidden?n.style.display="none":n.setAttribute("controls","controls"),"undefined"!==typeof a.volume&&(n.volume=a.volume),f(a.onInit)&&a.onInit(n);var i=6e4,r=a.timeout||i,c=new XMLHttpRequest;c.open("POST",s);var l={};for(var o in t)l[o]=t[o];l.cuid=l.cuid||l.tok,l.ctp=1,l.lan=l.lan||"zh",l.aue=l.aue||3;var u=[];for(var d in l)u.push(d+"="+encodeURIComponent(l[d]));var h=new FileReader;c.responseType="blob",c.send(u.join("&"));var p=setTimeout((function(){c.abort(),f(a.onTimeout)&&a.onTimeout()}),r);function f(t){return"[object Function]"===Object.prototype.toString.call(t)}c.onreadystatechange=function(){4==c.readyState&&(clearTimeout(p),200==c.status&&("audio/mp3"===c.response.type&&(document.body.appendChild(n),n.setAttribute("src",URL.createObjectURL(c.response)),a.autoDestory&&(n.onended=function(){document.body.removeChild(n)}),f(a.onSuccess)&&a.onSuccess(n)),"application/json"===c.response.type&&(h.onload=function(){var t=h.result;f(a.onError)&&a.onError(t)},h.readAsText(c.response))))}}function Yt(t){console.log(t),Qt({tex:t,tok:"25.460eac2eaa96064987fb7d42b0bdebd9.315360000.1953616249.282335-24318664",spd:5,pit:5,vol:15,per:103},{volume:.3,autoDestory:!0,timeout:1e4,hidden:!0,autoplay:!0})}var Zt={methods:{handleClick:function(t){this.$emit("click",t)}},watch:{content:function(t){Yt(t)}},mounted:function(){this.$refs.dialogue.click(),Yt("你好呀，小朋友! 快开始写生吧！全部画完后再点击下一步查看植物完整信息哦。")}},te=Zt,ee=(s("16c3"),Object(c["a"])(te,Gt,Kt,!1,null,"214a4b70",null)),se=ee.exports,ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{on:{click:t.handleClick}},[s("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/next.svg"}})])},oe=[],ne={methods:{handleClick:function(t){this.$router.push({path:"/plant"}),this.$emit("click",t)}}},ie=ne,re=Object(c["a"])(ie,ae,oe,!1,null,"eae2ffde",null),ce=re.exports,le=function(t){Object(Rt["a"])("b",(function(){return Y.commit("setTool","brush")})),Object(Rt["a"])("p",(function(){return Y.commit("setTool","pencil")})),Object(Rt["a"])("e",(function(){return Y.commit("setTool","eraser")})),Object(Rt["a"])("a",(function(){return Y.commit("setTool","select")})),Object(Rt["a"])("ctrl+z",(function(){return v.undo()})),Object(Rt["a"])("ctrl+shift+z",(function(){return v.redo()})),Object(Rt["a"])("ctrl+q",(function(){Wt(),Ft()}))},ue=function(t){n.a.setup(t.canvas),n.a.tool=null,le(t),document.getElementById("canvas").addEventListener("wheel",(function(e){t.vdrawArgs.zoom=n.a.view.zoom})),n.a.project.importJSON(window.localStorage.vdarw||[]),t.vdrawArgs.size=n.a.view.size,t.vdrawArgs.zoom=n.a.view.zoom,t.isInit=!0},de={components:{VHeader:Xt,VDialogue:se,VNext:ce},data:function(){return{isInit:!1,vdrawArgs:{size:{width:0,height:0},zoom:0},svg:""}},methods:{toggleSideBar:function(){this.$refs["sidebar"].$el.classList.toggle("-translate-x-44")},exportSvg:function(){console.log("exportSvg");var t=paper.project.exportSVG(),e=btoa((new XMLSerializer).serializeToString(t)),s="data:image/svg+xml;base64,"+e;this.$store.commit("setDrawing",s)}},computed:{cursor:function(){var t=this.$store.state.toolName;return null===t||"brush"===t?"cursor: auto;":"select"!==t?"cursor: none;":"cursor: auto;"},canvasBg:function(){return"background-color: ".concat(this.$store.state.canvasArgs.bgColor,"fa;")},canvas:function(){return this.$refs.canvas}},mounted:function(){ue(this),Wt(),Ft(),this.$store.commit("setTool","pencil")},filters:{toFixed:function(t){return t.toFixed(2)}}},he=de,pe=(s("dcd9"),Object(c["a"])(he,mt,vt,!1,null,null,null)),fe=pe.exports,me=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"plant w-screen h-screen"},[s("router-link",{staticClass:"absolute top-11 left-14",attrs:{to:"/"}},[s("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/back.svg"},on:{click:t.toHome}})]),s("div",{staticClass:"px-16 pt-36 flex flex-row justify-between items-top"},[s("div",{staticClass:"relative"},[s("div",{staticClass:"w-64 h-64 overflow-hidden border-8 border-yellow-400 rounded-full"},[s("img",{staticClass:"image",attrs:{src:t.capture}})]),s("div",{staticClass:"bg-white absolute w-80 h-80 left-24 top-40 overflow-hidden border-8 border-yellow-400 rounded-full"},[s("div",{staticClass:"image absolute w-80 h-80 overflow-hidden"},[s("img",{staticClass:"absolute top-2",attrs:{src:t.drawing}})])])]),s("div",{staticClass:"text pl-52 pr-24"},[s("div",{staticClass:"flex flex-row justify-start items-center pb-6"},[s("h1",{staticClass:"text-5xl pr-8",staticStyle:{color:"#14B9F4"}},[t._v(t._s(t.plant.data.name))]),s("div",{staticClass:"pb-2",on:{click:function(e){return t.onAudioPlay()}}},[s("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/trump.svg"}})])]),s("h2",{staticClass:"text-3xl pb-4 text-gray-900"},[t._v(t._s(t.plant.data.type))]),s("VScroll",{staticClass:"h-72 overflow-hidden",attrs:{data:t.plantData}},[s("div",{staticClass:"text-lg text-gray-900",attrs:{id:"desc"}})])],1)])],1)},ve=[],ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{on:{click:t.handleClick}},[s("img",{attrs:{src:"https://raw.githubusercontent.com/chaochaooo/Bio_Sketchbook/main/public/assets/svg/trump.svg"}})])},be=[],we={computed:Object(at["a"])({},Object(h["b"])(["drawSession"])),methods:{handleClick:function(t){Yt(this.drawSession.description),this.$emit("click",t)}}},ye=we,Ce=Object(c["a"])(ye,ge,be,!1,null,"0d3f0be0",null),ke=Ce.exports,xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"scrollWrapper",staticClass:"scroll"},[t._t("default")],2)},$e=[],Se=s("f40f"),je={name:"scroll",data:function(){return{}},props:{data:{type:String,default:function(){return""}}},watch:{data:function(t){var e=this;this.$nextTick((function(){e.refresh()}))}},mounted:function(){var t=this;this.$nextTick((function(){t.initScroll()}))},methods:{initScroll:function(){this.$refs.scrollWrapper&&(this.scroll=new Se["a"](this.$refs.scrollWrapper,{click:!0}))},refresh:function(){this.scroll&&this.scroll.refresh()},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)}}},Oe=je,_e=Object(c["a"])(Oe,xe,$e,!1,null,"44967700",null),ze=_e.exports,Te={data:function(){return{plantData:""}},components:{VScroll:ze,VTrump:ke},computed:Object(at["a"])({},Object(h["b"])(["capture","drawing","plant"])),methods:{toHome:function(){this.$store.commit("reset")},onAudioPlay:function(){Yt(this.plantData)}},mounted:function(){var t=document.getElementById("desc");t.innerHTML="";for(var e=0;e<this.plant.data.data.length;e++)t.innerHTML+=this.plant.data.data[e],this.plantData+=this.plant.data.data[e],t.innerHTML+="</br>",t.innerHTML+="</br>"}},Ae=Te,Le=(s("fc06"),Object(c["a"])(Ae,me,ve,!1,null,"33feac06",null)),De=Le.exports;a["default"].use(tt["a"]);var Ee=[{path:"/",name:"Home",component:ft},{path:"/canvas",name:"Canvas",component:fe},{path:"/plant",name:"Plant",component:De}],Me=new tt["a"]({mode:"hash",base:"",routes:Ee}),Be=Me,Pe=s("28dd");n.a.install(window),a["default"].prototype.$store=Y,a["default"].config.productionTip=!1,a["default"].use(Z["a"]),a["default"].use(Pe["a"]);e["default"]=new a["default"]({store:Y,router:Be,render:function(t){return t(d)}}).$mount("#app")},"667b":function(t,e,s){"use strict";var a=s("e0bd"),o=s.n(a);o.a},"8d57":function(t,e,s){},"925d":function(t,e,s){},b9af:function(t,e,s){},dcd9:function(t,e,s){"use strict";var a=s("925d"),o=s.n(a);o.a},e0bd:function(t,e,s){},e9ff:function(t,e,s){"use strict";var a=s("8d57"),o=s.n(a);o.a},fc06:function(t,e,s){"use strict";var a=s("b9af"),o=s.n(a);o.a}});
//# sourceMappingURL=app.8226350d.js.map